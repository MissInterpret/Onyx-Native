<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Mon May 29 17:33:52 EDT 2017 -->
<title>JobBuilder</title>
<meta name="date" content="2017-05-29">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JobBuilder";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":6,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../onyxplatform/test/GetFn.html" title="class in onyxplatform.test"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../onyxplatform/test/MergeFn.html" title="class in onyxplatform.test"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?onyxplatform/test/JobBuilder.html" target="_top">Frames</a></li>
<li><a href="JobBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">onyxplatform.test</div>
<h2 title="Class JobBuilder" class="title">Class JobBuilder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>onyxplatform.test.JobBuilder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../onyxplatform/test/SingleJavaTest.html" title="class in onyxplatform.test">SingleJavaTest</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">JobBuilder</span>
extends java.lang.Object</pre>
<div class="block">JobBuilder is a simple centralized abstract test class useful (and used)
 for testing single functions in the context of a job backed by simple inputs
 and outputs backed by core-async. JobBuilder takes a string path of an EDN
 file describing the Job, turns the spec into a Job, and preps it for running.
 The configureCatalog method must be overridden by the extending class, which
 should add the test function. JobBuilder provides simple methods for running
 the assembled job and gathering outputs.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#batchSize">batchSize</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#batchTimeout">batchTimeout</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.onyxplatform.api.java.Job</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#job">job</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../org/onyxplatform/api/java/NativeOnyxEnv.html" title="class in org.onyxplatform.api.java">NativeOnyxEnv</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#onyxEnv">onyxEnv</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#JobBuilder-java.lang.String-int-int-">JobBuilder</a></span>(java.lang.String&nbsp;onyxEnvConfig,
          int&nbsp;batchSize,
          int&nbsp;batchTimeout)</code>
<div class="block">Constructs a JobBuilder using an EDN configuration, a batchSize, and
 a batchTimeout.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#batchSize--">batchSize</a></span>()</code>
<div class="block">Returns the batchSize associated with the JobBuilder</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#batchTimeout--">batchTimeout</a></span>()</code>
<div class="block">Returns the batchTimeout associated with the JobBuilder</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#configureCatalog--">configureCatalog</a></span>()</code>
<div class="block">Abstract method must be extended by extending subclass to add other
 catalog entries to the JobBuilder catalog</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.onyxplatform.api.java.Job</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#createBaseJob--">createBaseJob</a></span>()</code>
<div class="block">Adds asynchronous input/output channels and the appropriate test edges
 for test functions</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>org.onyxplatform.api.java.Job</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#getJob--">getJob</a></span>()</code>
<div class="block">Returns the Job object associated with the JobBuilder</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../org/onyxplatform/api/java/NativeOnyxEnv.html" title="class in org.onyxplatform.api.java">NativeOnyxEnv</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#getOnyx--">getOnyx</a></span>()</code>
<div class="block">Returns the onyxEnv object associated with the JobBuilder</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#releaseAll--">releaseAll</a></span>()</code>
<div class="block">Releases all native-backed instances 
 and invokes gc.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>clojure.lang.IPersistentMap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#runJob-clojure.lang.PersistentVector-">runJob</a></span>(clojure.lang.PersistentVector&nbsp;inputs)</code>
<div class="block">Runs a job without collecting any outputs - returns a Map representing
 the started (running) job</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>clojure.lang.IPersistentMap</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#runJobCollectOutputs-clojure.lang.PersistentVector-">runJobCollectOutputs</a></span>(clojure.lang.PersistentVector&nbsp;inputs)</code>
<div class="block">Runs a job and collects the outputs, returning them inside an IPersistentMap.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../onyxplatform/test/JobBuilder.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Completely shuts down the environment associated with the JobBuilder</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="onyxEnv">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onyxEnv</h4>
<pre>protected&nbsp;<a href="../../org/onyxplatform/api/java/NativeOnyxEnv.html" title="class in org.onyxplatform.api.java">NativeOnyxEnv</a> onyxEnv</pre>
</li>
</ul>
<a name="batchSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchSize</h4>
<pre>protected&nbsp;java.lang.Integer batchSize</pre>
</li>
</ul>
<a name="batchTimeout">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchTimeout</h4>
<pre>protected&nbsp;java.lang.Integer batchTimeout</pre>
</li>
</ul>
<a name="job">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>job</h4>
<pre>protected&nbsp;org.onyxplatform.api.java.Job job</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="JobBuilder-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>JobBuilder</h4>
<pre>public&nbsp;JobBuilder(java.lang.String&nbsp;onyxEnvConfig,
                  int&nbsp;batchSize,
                  int&nbsp;batchTimeout)</pre>
<div class="block">Constructs a JobBuilder using an EDN configuration, a batchSize, and
 a batchTimeout.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>onyxEnvConfig</code> - path to the EDN file containing the job set up spec</dd>
<dd><code>batchSize</code> - integer representing the number of segments tasks should consume at once</dd>
<dd><code>batchTimeout</code> - integer representing the maximum time (ms) a task should wait before beginning</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createBaseJob--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBaseJob</h4>
<pre>public&nbsp;org.onyxplatform.api.java.Job&nbsp;createBaseJob()</pre>
<div class="block">Adds asynchronous input/output channels and the appropriate test edges
 for test functions</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the created Job</dd>
</dl>
</li>
</ul>
<a name="getOnyx--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOnyx</h4>
<pre>public&nbsp;<a href="../../org/onyxplatform/api/java/NativeOnyxEnv.html" title="class in org.onyxplatform.api.java">NativeOnyxEnv</a>&nbsp;getOnyx()</pre>
<div class="block">Returns the onyxEnv object associated with the JobBuilder</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>OnyxEnv object used by the JobBuilder</dd>
</dl>
</li>
</ul>
<a name="getJob--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJob</h4>
<pre>public&nbsp;org.onyxplatform.api.java.Job&nbsp;getJob()</pre>
<div class="block">Returns the Job object associated with the JobBuilder</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Job object used by JobBuilder</dd>
</dl>
</li>
</ul>
<a name="batchSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchSize</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;batchSize()</pre>
<div class="block">Returns the batchSize associated with the JobBuilder</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>batchSize as integer</dd>
</dl>
</li>
</ul>
<a name="batchTimeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>batchTimeout</h4>
<pre>public&nbsp;java.lang.Integer&nbsp;batchTimeout()</pre>
<div class="block">Returns the batchTimeout associated with the JobBuilder</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>batchTimeout as integer</dd>
</dl>
</li>
</ul>
<a name="configureCatalog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configureCatalog</h4>
<pre>public abstract&nbsp;void&nbsp;configureCatalog()</pre>
<div class="block">Abstract method must be extended by extending subclass to add other
 catalog entries to the JobBuilder catalog</div>
</li>
</ul>
<a name="runJob-clojure.lang.PersistentVector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runJob</h4>
<pre>public&nbsp;clojure.lang.IPersistentMap&nbsp;runJob(clojure.lang.PersistentVector&nbsp;inputs)</pre>
<div class="block">Runs a job without collecting any outputs - returns a Map representing
 the started (running) job</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputs</code> - A PersistentVector of input segments to use for running the Job</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an IPersistentMap representing the running job</dd>
</dl>
</li>
</ul>
<a name="runJobCollectOutputs-clojure.lang.PersistentVector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runJobCollectOutputs</h4>
<pre>public&nbsp;clojure.lang.IPersistentMap&nbsp;runJobCollectOutputs(clojure.lang.PersistentVector&nbsp;inputs)</pre>
<div class="block">Runs a job and collects the outputs, returning them inside an IPersistentMap.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputs</code> - A PersistentVector of input segments to use for running the Job</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An IPersistentMap containing the outputs produced by the job</dd>
</dl>
</li>
</ul>
<a name="releaseAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseAll</h4>
<pre>public&nbsp;void&nbsp;releaseAll()</pre>
<div class="block">Releases all native-backed instances 
 and invokes gc.</div>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Completely shuts down the environment associated with the JobBuilder</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../onyxplatform/test/GetFn.html" title="class in onyxplatform.test"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../onyxplatform/test/MergeFn.html" title="class in onyxplatform.test"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?onyxplatform/test/JobBuilder.html" target="_top">Frames</a></li>
<li><a href="JobBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
